import { cookies } from 'next/headers'; import { redirect } from 'next/navigation';
export default function DemoAuthPage(){ async function setRole(formData: FormData){ 'use server'; const role=String(formData.get('role')||'REQUESTER'); const uid=role==='HELPER'?'demo-helper-1':'demo-requester-1'; cookies().set('demo_user',uid,{httpOnly:false}); cookies().set('demo_role',role,{httpOnly:false}); redirect(role==='HELPER'?'/helper/dashboard':'/jobs/new'); }
  return (<div className='max-w-md mx-auto p-6 space-y-4'><h1 className='text-2xl font-semibold'>Demo login</h1><form action={setRole} className='space-y-3'><div className='space-y-2'><label className='block'>Choose role</label><select name='role' className='rounded-md border px-3 py-2 w-full'><option value='REQUESTER'>Requester</option><option value='HELPER'>Helper</option></select></div><button className='rounded-lg border px-3 py-2'>Continue</button></form><p className='text-xs text-gray-500'>Demo-only login for testing.</p></div>); }
